<nav class="navbar" [class.open]="mobileMenuVisible" [class.scrolled]="isScrolled">

  <img class="navbar__logo" src="assets/images/logo.svg" alt="">

  <button class="navbar__burger" (click)="toggleMobileMenu()">
    <i class="bx" [ngClass]="mobileMenuVisible ? 'bx-x' : 'bx-menu'"></i>
  </button>

  <div class="navbar__collapse" [class.open]="mobileMenuVisible">
    <ul class="navbar__menu">
      @for (item of menuItems ; track item) {
        <li (click)="router.navigate(['/'], { fragment: item.fragment })" routerLinkActive="active">
          {{ item.labelKey | transloco }}
        </li>
      }
    </ul>
    <div class="navbar__actions">
      <div class="language-container">
        <button class="navbar__button" (click)="toggleLanguageDropdown()">
          <i class="bx bx-globe"></i>
          <span class="language-text">{{ selectedLanguage | uppercase }}</span>
        </button>
        @if (dropdownVisible){
          <div class="language-options"
               clickOutside
               [class.visible]="dropdownVisible"
               (clickOutside)="dropdownVisible = false">
            @for (language of languages; track $index){
              <button (click)="changeLang(language.code)">
                <img [src]="language.flag"   alt="{{ language.name }}" class="flag-icon"/>
                {{ language.name }}
              </button>
            }
          </div>
        }
      </div>
    </div>
  </div>
</nav>
